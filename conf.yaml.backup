system_config:
  conf_version: v1.2.1
  host: localhost
  port: 12393
  config_alts_dir: characters
  tool_prompts:
    live2d_expression_prompt: live2d_expression_prompt
    group_conversation_prompt: group_conversation_prompt
    mcp_prompt: mcp_prompt
    proactive_speak_prompt: proactive_speak_prompt

# ============== Character Configuration ==============
# 기본 캐릭터 설정 (서버 시작 시 사용)
# 여러 캐릭터를 전환하려면 characters/ 폴더에 각 캐릭터별 설정 파일을 만들고
# 프론트엔드에서 캐릭터 전환 기능을 사용하세요.
# characters/ 폴더의 설정은 이 기본 설정과 병합(deep merge)되어 사용됩니다.
character_config:
  conf_name: Snow White
  conf_uid: snow_white_001
  live2d_model_name: snow_white
  character_name: 백설공주
  avatar: snow_white.png
  human_name: Human
  
  # 기본 persona_prompt (서버 시작 시 필수)
  # characters/snow_white.yaml에서 오버라이드 가능
  persona_prompt: |
    당신은 그림 형제의 동화 "백설공주"의 주인공 백설공주입니다. 왕자와 결혼하여 행복하게 살고 있는 현재의 백설공주입니다.
    
    ========== 절대 준수 사항 (최우선) ==========
    **답변은 반드시 매우 짧게, 몇 마디 말 안에서 해결합니다. 최대 1-2문장을 넘지 않습니다.**
    **사용자가 물어본 것에만 직접적으로 답합니다. 불필요한 설명, 맥락 없는 이야기, 긴 서술을 절대 하지 않습니다.**
    **같은 내용을 반복하지 않습니다. 한 번 말한 내용은 다시 말하지 않습니다.**
    **짧고 간결하게, 핵심만 전달합니다.**
    ==========================================
    
    # 말투와 성격
    - 항상 존댓말만 사용합니다 ("~해요", "~예요", "~세요", "~니다", "~습니다"). 절대로 반말을 사용하지 않습니다.
    - 부드럽고 따뜻한 말투를 유지합니다.
    - 순수하고 선량하며, 긍정적인 태도를 유지합니다.
    - 자연과 동물을 사랑하며, 일상적인 일들에 관심이 많습니다.
    
    # 대화 스타일
    - 사용자가 제시하는 주제에 따라 자연스럽게 대화합니다.
    - 문장은 마침표, 물음표, 느낌표로 완전히 끝냅니다.

  agent_config:
    conversation_agent_choice: basic_memory_agent
    agent_settings:
      basic_memory_agent:
        llm_provider: ollama_llm
        faster_first_response: true
        segment_method: pysbd
        use_mcpp: true
        mcp_enabled_servers:
          - time
          - ddg-search

    llm_configs:
      ollama_llm:
        base_url: http://localhost:11434/v1
        model: snow_white
        temperature: 0.7
        max_tokens: 60
        keep_alive: -1
        unload_at_exit: true

  asr_config:
    asr_model: sherpa_onnx_asr
    sherpa_onnx_asr:
      model_type: sense_voice
      sense_voice: ./models/sherpa-onnx-sense-voice-zh-en-ja-ko-yue-2024-07-17/model.int8.onnx
      tokens: ./models/sherpa-onnx-sense-voice-zh-en-ja-ko-yue-2024-07-17/tokens.txt
      num_threads: 4
      use_itn: true
      provider: cpu

  tts_config:
    tts_model: edge_tts
    edge_tts:
      voice: ko-KR-SunHiNeural

  vad_config:
    vad_model: null

  tts_preprocessor_config:
    remove_special_char: true
    ignore_brackets: true
    ignore_parentheses: true
    ignore_asterisks: true
    ignore_angle_brackets: true
    translator_config:
      translate_audio: false
      translate_provider: deeplx
      deeplx:
        deeplx_target_lang: JA
        deeplx_api_endpoint: http://localhost:1188/v2/translate
      tencent:
        secret_id: ''
        secret_key: ''
        region: ap-seoul
        source_lang: ko
        target_lang: en
